/* styles.css (FULL) - Groupware Main (탭: 전자메일/게시판/전자결재/일정관리/산출)
   ✅ 적용 규칙(app.js와 동일): “산출” 탭/항목은 모두 제외, 업무관리 탭도 제외(뷰/메뉴 노출 금지)
   ✅ 유지: 대쉬보드 4분할(일정 와이드) / sticky topbar / mega menu 4컬럼(산출 컬럼은 index.html에 있어도 숨김)
   ✅ 추가: profileCard/birthdayCard 기본 카드 최소 스타일 보강
*/

/* =========================
   ROOT
========================= */
:root{
  --bg:#f4f6f9;
  --bg2:#eef2f7;

  --paper:#ffffff;
  --paper2: rgba(255,255,255,.86);

  --ink:#1d1d1f;
  --muted:#6b6b73;

  --line: rgba(0,0,0,.10);
  --softLine: rgba(0,0,0,.06);

  --shadow: 0 10px 26px rgba(0,0,0,.08);
  --shadow2: 0 14px 34px rgba(0,0,0,.12);

  --radius: 18px;

  --accent:#f08a24;
  --accent2:#ffb55a;

  --accentSoft: rgba(240,138,36,.10);
  --accentSoft2: rgba(240,138,36,.18);
  --accentLine: rgba(240,138,36,.35);

  --topbarH: 74px;
  --sideW: 260px;

  --minMainW: 820px;

  --pillBg: rgba(255,255,255,.92);
  --pillBorder: rgba(0,0,0,.06);
  --pillShadow: 0 10px 24px rgba(0,0,0,.06);

  --chev: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24'%3E%3Cpath fill='%236b6b73' d='M7 10l5 5 5-5z'/%3E%3C/svg%3E");

  --topbarMaxW: 3000px;
  --navMaxW: 3000px;
  --topTabsGap: 160px;
}

/* =========================
   BASE
========================= */
*{ box-sizing:border-box; }
html,body{ height:100%; }
html{ color-scheme: light; }
html{ background: var(--bg); }

body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans KR", Arial, "Apple SD Gothic Neo", "Malgun Gothic";
  color:var(--ink);
  overflow-y: auto;
  overflow-x: auto;
  min-height: 100%;
  background: transparent;
  -webkit-tap-highlight-color: transparent;
}

body::before{
  content:"";
  position: fixed;
  inset: 0;
  z-index: -1;
  pointer-events: none;
  background:
    radial-gradient(1200px 700px at 18% -10%, rgba(255,181,90,.18), transparent 60%),
    radial-gradient(900px 520px at 85% 0%, rgba(240,138,36,.10), transparent 62%),
    linear-gradient(180deg, var(--bg) 0%, var(--bg2) 100%);
}

a{ color:inherit; text-decoration:none; }
.hidden{ display:none !important; }

button, select, input, textarea{
  -webkit-appearance: none;
  appearance: none;
  font: inherit;
  color: inherit;
}

/* =========================================================
   TOPBAR (Apple-like)
========================================================= */
header.topbar{
  position: sticky !important;
  top: 0 !important;
  z-index: 200 !important;

  padding: 0 !important;
  height: 52px !important;

  background: rgba(245,245,247,.92) !important;
  backdrop-filter: blur(8px) !important;
  border-bottom: 1px solid rgba(0,0,0,.08) !important;

  display: flex !important;
  align-items: center !important;
}

header.topbar .topInner{
  width: 100% !important;
  max-width: var(--topbarMaxW) !important;
  margin: 0 auto !important;

  height: 52px !important;
  display: grid !important;
  grid-template-columns: 160px 1fr 160px !important;
  align-items: center !important;

  padding: 0 18px !important;
  gap: 12px !important;
}

header.topbar .brand,
header.topbar .topCenter,
header.topbar .topRight{
  min-width: 0;
}

header.topbar .brand{
  padding: 0 !important;
  border-radius: 0 !important;
  display:flex;
  align-items:center;
  gap:10px;
}

.logoImg{
  width: 120px !important;
  height: 34px !important;
  object-fit: contain !important;
  display:block;
}

header.topbar .topCenter{
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  min-width: 0 !important;
}

header.topbar .topRight{
  width: 160px !important;
  flex: 0 0 auto;
}

.navWrap{
  position: relative !important;
  width: auto !important;
  max-width: var(--navMaxW) !important;
  margin: 0 auto !important;
}

#topTabs.topTabs{
  width: auto !important;
  max-width: 100% !important;

  background: transparent !important;
  border: 0 !important;
  box-shadow: none !important;
  border-radius: 0 !important;

  display: flex !important;
  align-items: center !important;
  justify-content: center !important;

  gap: var(--topTabsGap) !important;
  padding: 0 !important;

  overflow: visible !important;
}

#topTabs .topTab,
#topTabs .top-tab,
#topTabs button,
#topTabs a{
  position: relative !important;

  width: auto !important;
  flex: 0 0 auto !important;

  border: 0 !important;
  background: transparent !important;
  box-shadow: none !important;
  border-radius: 0 !important;

  padding: 10px 2px !important;
  font-weight: 800 !important;
  font-size: 12.5px !important;
  color: rgba(0,0,0,.82) !important;

  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
  white-space: nowrap !important;
}

@media (hover:hover) and (pointer:fine){
  #topTabs .topTab:hover,
  #topTabs .top-tab:hover,
  #topTabs button:hover,
  #topTabs a:hover{
    color: rgba(0,0,0,.95) !important;
  }
}

#topTabs .topTab.active::after,
#topTabs .top-tab.active::after{
  content:"" !important;
  position:absolute !important;
  left: 20% !important;
  right: 20% !important;
  bottom: 6px !important;
  height: 2px !important;
  border-radius: 999px !important;
  background: var(--accent) !important;
  opacity: 1 !important;
}

#topTabs .topTab.active,
#topTabs .top-tab.active{
  color: var(--accent) !important;
}

/* MEGA MENU */
#megaMenu.mega-menu{
  position: absolute !important;
  left: 50% !important;
  right: auto !important;
  top: 52px !important;
  transform: translate(-50%, -6px) !important;

  z-index: 300 !important;
  padding-top: 10px !important;

  opacity: 0 !important;
  pointer-events: none !important;
  transition: opacity .14s ease, transform .14s ease !important;
}

#megaMenu.mega-menu.open{
  opacity: 1 !important;
  pointer-events: auto !important;
  transform: translate(-50%, 0) !important;
}

/* ✅ 4컬럼(전자메일/게시판/전자결재/일정관리) 기준 */
#megaMenu .mega-inner{
  width: min(980px, calc(110vw - 380px)) !important;
  background: rgba(255,255,255,.98) !important;
  border: 1px solid rgba(0,0,0,.10) !important;
  border-radius: 18px !important;
  box-shadow: 0 18px 55px rgba(0,0,0,.12) !important;

  padding: 22px 20px !important;

  display: grid !important;
  grid-template-columns: repeat(4, minmax(0, 1fr)) !important;
  gap: 0 !important;

  max-height: min(72vh, 720px) !important;
  overflow: auto !important;
}

#megaMenu .mega-col{
  padding: 4px 22px 10px !important;
  min-width: 0 !important;
}
#megaMenu .mega-col + .mega-col{
  border-left: 1px solid rgba(0,0,0,.10) !important;
}

#megaMenu .mega-col-title{ display:none !important; margin:0 !important; padding:0 !important; height:0 !important; }

#megaMenu .mega-col-items{
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  gap: 10px !important;
  padding-top: 6px !important;
}

#megaMenu .mega-item{
  font-weight: 800 !important;
  font-size: 12.5px !important;
  color: rgba(0,0,0,.72) !important;
  cursor: pointer !important;
  white-space: nowrap !important;

  padding: 6px 0 !important;
  border: 0 !important;
  border-radius: 0 !important;
  background: transparent !important;

  transition: color .12s ease, text-decoration-color .12s ease !important;
  text-decoration: none !important;
}
@media (hover:hover) and (pointer:fine){
  #megaMenu .mega-item:hover{
    color: rgba(0,0,0,.95) !important;
    text-decoration: underline !important;
    text-underline-offset: 3px;
  }
}

/* ✅ index.html에 5번째(업무관리)나 산출 컬럼이 남아있어도 “숨김” */
#megaMenu .mega-inner .mega-col:nth-child(5),
#megaMenu .mega-inner .mega-col:nth-child(6){
  display:none !important;
}

/* 반응형 */
@media (max-width: 1200px){
  #megaMenu .mega-inner{
    grid-template-columns: repeat(2, minmax(0,1fr)) !important;
    width: min(820px, calc(100vw - 60px)) !important;
  }
  #megaMenu .mega-col:nth-child(3){ border-left: none !important; }
}
@media (max-width: 760px){
  #megaMenu .mega-inner{
    grid-template-columns: 1fr !important;
    width: min(720px, calc(100vw - 40px)) !important;
  }
  #megaMenu .mega-col{ border-left: none !important; }
}

/* =========================
   LAYOUT
========================= */
.app{
  display:flex;
  overflow: visible;
  min-height: 100vh;
  min-width: calc(var(--sideW) + var(--minMainW));
}

.side{
  width: var(--sideW);
  flex: 0 0 var(--sideW);

  padding: 12px 10px 16px;
  border-right: 1px solid rgba(0,0,0,.06);
  background: rgba(255,255,255,.62);
  overflow: visible;
}

.sideNav{
  display:flex;
  flex-direction:column;
  gap:6px;
  padding: 6px 6px 0;
  overflow: visible;
}

.sideLink,
.side-item{
  position: relative;
  display:flex;
  align-items:center;
  justify-content:flex-start;
  gap:10px;

  padding: 11px 12px 11px 14px;
  border-radius: 14px;
  border: 1px solid transparent;

  background: transparent;
  cursor:pointer;
  font-weight: 950;
  font-size: 13px;
  color: #3a3a40;

  transition: background .12s ease, border-color .12s ease, transform .08s ease;
}
@media (hover:hover) and (pointer:fine){
  .sideLink:hover,
  .side-item:hover{
    background: rgba(255,255,255,.70);
    border-color: rgba(0,0,0,.06);
    transform: translateY(-1px);
  }
}
.sideLink.active,
.side-item.active{
  background: rgba(255,255,255,.92);
  border-color: rgba(0,0,0,.08);
  box-shadow: 0 10px 18px rgba(0,0,0,.06);
}
.sideLink.active::before,
.side-item.active::before{
  content:"";
  position:absolute;
  left:6px;
  top:50%;
  transform: translateY(-50%);
  width:4px;
  height: 18px;
  border-radius: 999px;
  background: var(--accent);
}

.main{
  flex:1;
  min-width: var(--minMainW);
  padding: 16px 18px 26px;
  overflow: visible;
}

.view{
  min-height: 520px;
  overflow: visible;
}

/* =========================
   CARD / FORM
========================= */
.card{
  background: rgba(255,255,255,.94);
  border: 1px solid rgba(0,0,0,.06);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: 14px 14px;
  min-width: 0;
  max-width: 100%;
}

.sectionTitle,
.card-title,
.view h2, .view h3{
  display:inline-flex;
  align-items:center;
  gap:10px;
  padding: 0;
  border-radius: 0;
  background: transparent;
  border: 0;
  box-shadow: none;
  font-weight: 1100;
  letter-spacing: -0.2px;
  color: rgba(0,0,0,.86);
}
.sectionTitle::before,
.card-title::before,
.view h2::before,
.view h3::before{
  content:"";
  width: 6px;
  height: 16px;
  border-radius: 999px;
  background: var(--accent);
  flex: 0 0 auto;
  opacity: .95;
}

.stack{ display:flex; flex-direction:column; gap:12px; }
.row{ display:flex; align-items:center; gap:8px; }
.grid2{ display:grid; grid-template-columns: 1fr 1fr; gap:10px; }

.btn{
  border:1px solid rgba(0,0,0,.10);
  background: rgba(255,255,255,.92);
  border-radius: 14px;
  padding: 10px 12px;
  cursor:pointer;
  font-weight:900;
  font-size:13px;
  transition: border-color .12s ease, box-shadow .12s ease, background .12s ease;
}
.btn.tiny{ padding: 7px 10px; font-size:12px; border-radius: 12px; }
.btn.primary{
  border-color: rgba(240,138,36,.55);
  background: linear-gradient(180deg, rgba(240,138,36,.95), rgba(240,138,36,.80));
  color:#fff;
  box-shadow: 0 12px 26px rgba(240,138,36,.16);
}
.muted{ color:var(--muted); }
.small{ font-size:12px; }

/* ✅ profileCard/birthdayCard 최소 보강 */
.profileCard, .bdayCard{ min-width: 0; }
.bdayHead{ display:flex; align-items:center; justify-content:space-between; }
.bdayTitle{ font-weight:1100; }
.bdayEmpty{
  margin-top: 10px;
  padding: 12px;
  border-radius: 14px;
  border: 1px dashed rgba(0,0,0,.18);
  background: rgba(255,255,255,.78);
  color: var(--muted);
  font-weight: 900;
  font-size: 13px;
  text-align: center;
}

/* =========================
   DASHBOARD
========================= */
.dashWrap{ display:flex; flex-direction:column; gap:14px; }

.dashGrid{
  display:grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap:14px;
}
.dashCard{ padding: 14px 16px; min-width:0; max-width:100%; }
.dashSpan2{ grid-column: 1 / -1; }

.dashCardHead{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:10px;
  margin-bottom: 10px;
  min-width:0;
  flex-wrap: wrap;
}
.dashCardTitleLink{
  display:inline-flex;
  align-items:center;
  gap:10px;

  background: transparent;
  border: 0;
  box-shadow: none;
  padding: 0;
  border-radius: 0;

  cursor: pointer;
  font-weight: 1100;
  font-size: 16px;
  letter-spacing: -0.2px;
  color: rgba(0,0,0,.86);

  max-width:100%;
  min-width:0;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}
.dashCardTitleLink::before{
  content:"";
  width: 6px;
  height: 18px;
  border-radius: 999px;
  background: var(--accent);
  flex: 0 0 auto;
  opacity: .95;
}
.dashCardSub{
  font-size: 12px;
  color: var(--muted);
  font-weight: 900;
  max-width:100%;
  min-width:0;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}

.dashList{ display:flex; flex-direction:column; gap:10px; }
.dashItem{
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid rgba(0,0,0,.06);
  background: rgba(255,255,255,.92);
  min-width:0;
}
.dashItemTitle,
.dashItemMeta{
  min-width:0;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.dashItemTitle{ font-weight: 1000; font-size: 13px; line-height: 1.25; }
.dashItemMeta{ margin-top: 4px; font-size: 12px; color: var(--muted); font-weight: 900; }

/* 일정 와이드 내부 레이아웃 */
.schedWide{
  display:grid;
  grid-template-columns: 1.2fr 0.8fr;
  gap: 14px;
  min-width:0;
}
.schedPanel{
  border: 1px solid rgba(0,0,0,.06);
  background: rgba(255,255,255,.92);
  border-radius: 16px;
  padding: 12px;
  min-width:0;
}
.schedTitle{
  font-weight: 1000;
  font-size: 13px;
  margin-bottom: 8px;
}
.schedEmpty{
  padding: 12px;
  border-radius: 14px;
  border: 1px dashed rgba(0,0,0,.18);
  background: rgba(255,255,255,.78);
  color: var(--muted);
  font-weight: 900;
  font-size: 13px;
  text-align: center;
}

/* CALENDAR */
.cal-dow{
  display:grid;
  grid-template-columns: repeat(7, 1fr);
  gap:6px;
  margin: 10px 0 8px;
  font-weight:1000;
  font-size:12px;
  color: var(--muted);
}
.cal-grid{ display:grid; grid-template-columns: repeat(7, 1fr); gap:6px; }
.cal-cell{
  min-height: 54px;
  border-radius: 14px;
  border: 1px solid rgba(0,0,0,.06);
  background: rgba(255,255,255,.94);
  padding: 8px;
}
.cal-empty{ background: rgba(255,255,255,.62); }
.cal-day{ font-weight:1000; font-size:12px; }

/* TOAST */
.toastHost{
  position: fixed;
  left: 14px;
  bottom: 14px;
  z-index: 60;
  display:flex;
  flex-direction:column;
  gap:8px;
}
.toastHost .t{
  background: rgba(255,255,255,.96);
  border: 1px solid rgba(0,0,0,.10);
  border-left: 4px solid var(--accent);
  padding: 10px 12px;
  border-radius: 14px;
  box-shadow: var(--shadow2);
  font-weight: 900;
  font-size: 13px;
}

/* MODAL */
.modalBackdrop{
  position:fixed;
  inset:0;
  background: rgba(0,0,0,.35);
  display:flex;
  align-items:center;
  justify-content:center;
  padding: 16px;
  z-index: 80;
}
.modal{
  width: min(860px, 96vw);
  max-height: 86vh;
  overflow:auto;
  background: rgba(255,255,255,.97);
  border: 1px solid rgba(0,0,0,.10);
  border-radius: 18px;
  box-shadow: var(--shadow2);
}
.modalHead{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  padding: 12px 14px;
  border-bottom: 1px solid rgba(0,0,0,.06);
}
.modalTitle{ font-weight: 1000; }
.modalBody{ padding: 14px; }
.modalFoot{
  padding: 12px 14px;
  border-top: 1px solid rgba(0,0,0,.06);
  display:flex;
  justify-content:flex-end;
  gap:8px;
}

/* 중간 스크롤 차단 */
#view,.view,.main,.side{ overflow-y: visible !important; }
.modal{ overflow: auto !important; }

/* responsive */
@media (max-width: 980px){
  .main{ padding: 12px; }
  .dashGrid{ grid-template-columns: 1fr; }
  .dashSpan2{ grid-column: auto; }
  .schedWide{ grid-template-columns: 1fr; }
}
